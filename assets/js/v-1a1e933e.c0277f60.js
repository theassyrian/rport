(self.webpackChunkrport_site=self.webpackChunkrport_site||[]).push([[263],{1682:(e,n,t)=>{"use strict";t.r(n),t.d(n,{data:()=>s});const s={key:"v-1a1e933e",path:"/docs/no11-multi-tenancy.html",title:"Multi tenancy",lang:"en-DE",frontmatter:{},excerpt:"",headers:[{level:2,title:"Run it with systemd",slug:"run-it-with-systemd",children:[]}],filePathRelative:"docs/no11-multi-tenancy.md"}},2176:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>a});const s=(0,t(6252).uE)('<h1 id="multi-tenancy" tabindex="-1"><a class="header-anchor" href="#multi-tenancy" aria-hidden="true">#</a> Multi tenancy</h1><p>Multi tenancy can be achived by running multiple isolated instances of the RPort server on a single host. By invoking <code>rportd</code> multiple time with different configurtion files, you get completely isolated server instances.</p><h2 id="run-it-with-systemd" tabindex="-1"><a class="header-anchor" href="#run-it-with-systemd" aria-hidden="true">#</a> Run it with systemd</h2><p>Below you find an example of systemd service file, that manages multiple instances. Store the file in <code>/etc/systemd/system/rportd@.service</code>. (The <code>@</code> sign in the file name is crucial.)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[Unit]\nDescription=Rport Server Instance %i\nConditionFileIsExecutable=/usr/local/bin/rportd\n\n[Service]\nStartLimitInterval=5\nStartLimitBurst=10\nExecStart=/usr/local/bin/rportd &quot;-c&quot; &quot;/etc/rport/instances/rportd.%i.conf&quot;\nLimitNOFILE=1048576\nUser=rport\nRestart=always\nRestartSec=120\nEnvironmentFile=-/etc/sysconfig/rportd\n\n[Install]\nWantedBy=multi-user.target\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>Now create a foler <code>/etc/rport/instances/</code> and put a configuration file per instance in this folder. Start and stop the instances with <code>systemctl start rportd@&lt;INSTANCE-NAME&gt;</code>.</p>',6),a={render:function(e,n){return s}}}}]);